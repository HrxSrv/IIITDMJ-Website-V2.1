"use strict";(self.webpackChunkIIITDMJ=self.webpackChunkIIITDMJ||[]).push([[939],{43939:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var r=t(72791),a=t(6088),l=t(54601),n=t(89949),o=t(40181),d=t(10723),i=t(29418),c=t(68082),m=t(18346),x=t(17411),h=t(11087),u=t(80184);const g=()=>(0,u.jsxs)("div",{className:"animate-pulse bg-gradient-to-br from-red-50 to-rose-100 rounded-xl shadow-sm p-4 h-40",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("div",{className:"h-5 w-5 bg-red-200 rounded-full"}),(0,u.jsx)("div",{className:"h-4 bg-red-200 rounded w-3/4"})]}),(0,u.jsx)("div",{className:"mt-4 h-16 bg-red-100/50 rounded"}),(0,u.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,u.jsx)("div",{className:"h-3 bg-red-200 rounded w-20"}),(0,u.jsx)("div",{className:"h-4 w-4 bg-red-200 rounded"})]})]});function f(e){let{isOpen:s,onClose:t,children:r}=e;return(0,u.jsx)("div",{onClick:t,className:`\n        fixed inset-0 flex justify-center items-center transition-all duration-300 backdrop-blur-sm z-50\n        ${s?"visible bg-black/30 opacity-100":"invisible opacity-0"}\n      `,children:(0,u.jsxs)("div",{onClick:e=>e.stopPropagation(),className:`\n          fixed bg-white rounded-2xl shadow-lg p-6 transition-all duration-300 max-w-2xl w-full max-h-[90vh] overflow-y-auto\n          ${s?"scale-100 opacity-100":"scale-95 opacity-0"}\n        `,style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[(0,u.jsx)("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors",children:(0,u.jsx)(a.Z,{className:"w-5 h-5"})}),r]})})}const p=e=>{let{text:s,link:t,createdAt:r,isInModal:a=!1}=e;return(0,u.jsxs)("a",{href:t,className:"group relative overflow-hidden transition-all duration-300 rounded-xl "+(a?"bg-white hover:bg-gray-50 shadow hover:shadow-md p-5 mb-4 border border-gray-100":"bg-gradient-to-br from-red-50 via-red-100 to-rose-100 hover:from-red-100 hover:to-rose-200 shadow-sm hover:shadow-md p-5 h-full"),target:"_blank",rel:"noopener noreferrer",children:[(0,u.jsx)("span",{className:"absolute -top-20 -right-20 w-32 h-32 bg-gradient-to-br from-red-100 to-red-200 rounded-full opacity-50 group-hover:opacity-70 transition-opacity duration-500"}),(0,u.jsxs)("div",{className:"flex flex-col justify-between h-full relative z-10",children:[(0,u.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,u.jsx)("div",{className:"bg-white/80 p-2 rounded-full shadow-sm",children:(0,u.jsx)(l.Z,{className:"w-4 h-4 text-red-600 flex-shrink-0"})}),(0,u.jsx)("div",{className:"flex-1",children:(0,u.jsx)("span",{className:"text-red-800 font-medium "+(a?"text-base":"text-md line-clamp-3"),children:s})})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-red-200/30",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(n.Z,{className:"w-3 h-3 text-red-500"}),(0,u.jsx)("span",{className:"text-red-500 text-xs font-medium",children:(e=>{const s=new Date(e),t=new Date,r=Math.floor((t-s)/1e3);return r<60?"Just now":r<3600?`${Math.floor(r/60)} mins ago`:r<86400?`${Math.floor(r/3600)} hours ago`:`${Math.floor(r/86400)} days ago`})(r)})]}),(0,u.jsx)("div",{className:"bg-white/80 p-1.5 rounded-full shadow-sm group-hover:bg-white transition-colors",children:(0,u.jsx)(o.Z,{className:"w-3.5 h-3.5 text-red-600 group-hover:translate-x-0.5 transition-all"})})]})]})]})},b=()=>{const[e,s]=(0,r.useState)([]),[t,a]=(0,r.useState)(null),[n,o]=(0,r.useState)(!0),[b,j]=(0,r.useState)(!1),v=async function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&o(!0),a(null);try{const e=await x.Z.get("RedAnnouncements/RedAnnouncements");s(e.data),o(!1)}catch(r){var e,t;console.error("Error fetching Announcements:",r),a({message:"Failed to fetch Announcements",details:(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Network error or server unavailable"}),o(!1)}};(0,r.useEffect)((()=>{v()}),[]);return(0,u.jsxs)("div",{className:"w-full max-w-7xl mx-auto  py-6",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"bg-gradient-to-br from-red-100 to-red-200 p-2 rounded-lg shadow-sm",children:(0,u.jsx)(l.Z,{className:"w-5 h-5 text-red-600"})}),(0,u.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Important Announcements"})]}),(0,u.jsx)("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,u.jsx)(i.Z,{className:"w-4 h-4"})})]}),(()=>{if(n)return(0,u.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(((e,s)=>(0,u.jsx)(g,{},s)))});if(t)return(0,u.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-xl p-8 text-center shadow-sm",children:[(0,u.jsx)("div",{className:"bg-white/80 p-4 rounded-full shadow-sm w-20 h-20 flex items-center justify-center mx-auto mb-6",children:(0,u.jsx)(d.Z,{className:"w-10 h-10 text-red-500"})}),(0,u.jsx)("h2",{className:"text-2xl font-bold text-red-800 mb-3",children:"Announcement Fetch Failed"}),(0,u.jsx)("p",{className:"text-red-600 mb-4 max-w-md mx-auto",children:t.message}),(0,u.jsx)("p",{className:"text-red-500 text-sm mb-6 max-w-md mx-auto",children:t.details}),(0,u.jsxs)("button",{onClick:()=>v(),className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-full hover:from-red-600 hover:to-red-700 transition-colors shadow-sm hover:shadow-md flex items-center mx-auto",children:[(0,u.jsx)(i.Z,{className:"mr-2 w-4 h-4 animate-spin-slow"})," Retry"]})]});if(0===e.length)return(0,u.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-8 text-center shadow-sm border border-gray-200",children:[(0,u.jsx)("div",{className:"bg-white p-4 rounded-full shadow-sm w-20 h-20 flex items-center justify-center mx-auto mb-6",children:(0,u.jsx)(l.Z,{className:"w-10 h-10 text-gray-400"})}),(0,u.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Important Announcements"}),(0,u.jsx)("p",{className:"text-gray-600 mt-2 max-w-md mx-auto",children:"Everything is running smoothly. Check back later for updates."})]});const s=e.slice(0,4),r=e.length>4;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(((e,s)=>{let{title:t,link:r,createdAt:a}=e;return(0,u.jsx)(p,{text:t,link:r,createdAt:a},s)}))}),r&&(0,u.jsxs)(h.rU,{to:"/allImportantAnnouncements",className:"group flex items-center justify-center gap-2 w-full max-w-md mx-auto mt-8 px-6 py-3 text-sm font-medium text-red-700 bg-gradient-to-r from-red-50 to-red-100 hover:from-red-100 hover:to-red-200 rounded-full transition-all duration-300 shadow-sm hover:shadow border border-red-200",children:[(0,u.jsx)("span",{children:"See All Announcements"}),(0,u.jsx)("div",{className:"bg-white p-1 rounded-full",children:(0,u.jsx)(c.Z,{size:14,className:"transition-transform duration-300 group-hover:translate-x-1 text-red-600"})})]}),(0,u.jsx)(f,{isOpen:b,onClose:()=>j(!1),children:(0,u.jsxs)("div",{className:"p-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,u.jsx)(m.Z,{className:"w-6 h-6 text-red-500"}),(0,u.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"All Announcements"})]}),(0,u.jsx)("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:e.map(((e,s)=>{let{title:t,link:r,createdAt:a}=e;return(0,u.jsx)(p,{text:t,link:r,createdAt:a,isInModal:!0},s)}))})]})})]})})()]})}}}]);
//# sourceMappingURL=939.e42319b8.chunk.js.map